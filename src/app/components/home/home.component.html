<div class="home-container">
  <h1>Accident List</h1>

  <div *ngIf="loading" class="loading">Loading accidents...</div>

  <div *ngIf="error" class="error-message">
    {{ error }}
  </div>

  <div class="table-container" *ngIf="!loading && !error">
    <table class="accident-table">
      <thead>
        <tr>
          <th>Call Ref</th>
          <th>Log Date</th>
          <th>Delivery Date</th>
          <th>Incident Description</th>
          <th>Subject</th>
          <th>Support Status</th>
          <th>User Status</th>
          <th>Call Type</th>
          <th>User Priority</th>
          <th>Module</th>
          <th>Reported By</th>
          <th>Closed Date</th>
          <th>Status Updated Date</th>
          <th>URL/Form Name</th>
          <th>Assigned To</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let accident of accidents">
          <td>{{ accident.callRef }}</td>
          <td>{{ accident.createdDate | date : "yyyy-MM-dd" }}</td>
          <td>{{ accident.deliveryDate | date : "yyyy-MM-dd" }}</td>
          <td>{{ accident.description }}</td>
          <td>{{ accident.subject }}</td>
          <td>{{ mapSupportStatus(accident.supportStatus) }}</td>
          <td>{{ mapUserStatus(accident.userStatus) }}</td>
          <td>{{ mapCallType(accident.callType) }}</td>
          <td>{{ mapPriority(accident.userPriority) }}</td>
          <td>{{ mapModule(accident.module) }}</td>
          <td>{{ accident.loggedByUser }}</td>
          <td>{{ accident.closedDate | date : "yyyy-MM-dd" }}</td>
          <td>{{ accident.statusUpdated | date : "short" }}</td>
          <td>{{ accident.urlOrFormName }}</td>
          <td>{{ accident.assignedToUserName }}</td>
          <td class="actions-cell">
            <button class="view-btn">View</button>
            <button class="update-btn">Update</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
